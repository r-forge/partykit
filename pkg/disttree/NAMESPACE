import("partykit")
import("gamlss.dist")
import("stats")
import("Formula")

importFrom("graphics",
  "plot",
  "hist",
  "lines"
)
importFrom("sandwich",
  "bread",
  "estfun"
)
importFrom("utils", 
  "data", 
  "getAnywhere"
)
importFrom("survival",
  "Surv",
  "is.Surv"
)
importFrom("utils", 
  "setTxtProgressBar", 
  "txtProgressBar"
)

export(
  ## core distribution fitting function
  "distfit",
  "distexfit",
  "distfamily",

  ## distributional tree
  "disttree",
  "distextree",

  ## control function for 'distextree'
  "distextree_control",

  ## distributional forest
  "distforest",
  "distexforest",

  ## family list generating function (input: GAMLSS family object) used in distfit, disttree, distforest
  "make_dist_list",

  ## family list generating functions used in distexfit, distextree
  "distfamily",

  ## family list generating functions
  "dist_gaussian",
  "dist_weibull",
  "dist_poisson",
  "dist_exponential",
  "dist_gamma",
  "dist_crch",
  "dist_ztnbinom",
  "dist_binomial",


  ## complete family lists
  "dist_list_normal",
  "dist_list_cens_normal",
  "dist_list_trunc_normal",
  "dist_list_hurdle_normal",
  
  ## additional summary function
  "getSummary.distfit",
  "getSummary.distexfit"
)

## methods
S3method("bread", "distfit")
S3method("coef", "distfit")
S3method("confint", "distfit")
S3method("estfun", "distfit")
S3method("logLik", "distfit")
S3method("nobs", "distfit")
S3method("vcov", "distfit")
S3method("predict", "distfit")
S3method("print", "distfit")
S3method("residuals", "distfit")
S3method("summary", "distfit")
S3method("print", "summary.distfit")
S3method("plot", "distfit") # FIXME

S3method("bread", "distexfit")
S3method("coef", "distexfit")
S3method("confint", "distexfit")
S3method("estfun", "distexfit")
S3method("logLik", "distexfit")
S3method("nobs", "distexfit")
S3method("vcov", "distexfit")
S3method("predict", "distexfit")
S3method("print", "distexfit")
S3method("residuals", "distexfit")
S3method("summary", "distexfit")
S3method("print", "summary.distexfit")
S3method("plot", "distexfit") # FIXME

S3method("print", "disttree")
S3method("coef", "disttree")
S3method("predict", "disttree")
S3method("logLik", "disttree")

S3method("print", "distextree")
S3method("coef", "distextree")
S3method("predict", "distextree")
S3method("logLik", "distextree")

S3method("predict", "distforest")
S3method("logLik", "distforest")

S3method("predict", "distforest")
S3method("logLik", "distforest")

S3method("predict", "distexforest")
S3method("varimp", "distexforest")
S3method("gettree", "distexforest")
S3method("model.frame", "distexforest")

