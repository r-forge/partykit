
R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> 
> library("partykit")
Loading required package: grid
Loading required package: libcoin
Loading required package: mvtnorm
> set.seed(290875)
> 
> ### regression
> airq <- subset(airquality, complete.cases(airquality))
> airct <- ctree(Ozone ~ ., data = airq)
> 
> mean((airq$Ozone - predict(airct))^2)
[1] 374.0113
> #logLik(airct)
> #logLik(airct, airq, perm = "Temp")
> 
> varimp(airct)
    Temp     Wind 
705.5733 362.8331 
> 
> aircf <- cforest(Ozone ~ ., data = airq, ntree = 100)
> 
> varimp(aircf)
    Ozone   Solar.R      Wind      Temp     Month       Day 
  0.00000  96.52545 258.02515 889.86298  18.65313  22.55868 
> 
> varimp(aircf, conditional = TRUE)
     Ozone    Solar.R       Wind       Temp      Month        Day 
   0.00000   94.30445  288.57149 1041.74139   17.94444   24.79951 
> 
> ict <- cforest(Species ~ ., data = iris, ntree = 100)
> varimp(ict)
 Sepal.Length   Sepal.Width  Petal.Length   Petal.Width       Species 
 0.0023291422 -0.0007026725  7.3763262393  1.1134168332  0.0000000000 
> varimp(ict, risk = "misclass")
 Sepal.Length   Sepal.Width  Petal.Length   Petal.Width       Species 
-0.0004404762 -0.0004000000  0.4125261905  0.3023500000  0.0000000000 
> 
> set.seed(29)
> varimp(ict, risk = "misclass", conditional = TRUE)
 Sepal.Length   Sepal.Width  Petal.Length   Petal.Width       Species 
-0.0004404762 -0.0004000000  0.3027047619  0.1011000000  0.0000000000 
> 
> 
> proc.time()
   user  system elapsed 
   7.72    0.02    7.74 
