- partykit manual (TH)
- partykit vignette (TH, Z)
- revised/new MLOSS paper (TH, Z, KH)
- as.list() method (TH)
- node_surv (Z)
- print rules, similar to the following

list.rules.rpart <- function(model)
{
  if (!inherits(model, "rpart")) stop("Not a legitimate rpart tree")
  #
  # Get some information.
  #
  frm     <- model$frame
  names   <- row.names(frm)
  ylevels <- attr(model, "ylevels")
  ds.size <- model$frame[1,]$n
  #
  # Print each leaf node as a rule.
  #
  for (i in 1:nrow(frm))
  {
    if (frm[i,1] == "<leaf>")
    {
      # The following [,5] is hardwired - needs work!
      cat("\n")
      cat(sprintf(" Rule number: %s ", names[i]))
      cat(sprintf("[yval=%s cover=%d (%.0f%%) prob=%0.2f]\n",
                  ylevels[frm[i,]$yval], frm[i,]$n,
                  round(100*frm[i,]$n/ds.size), frm[i,]$yval2[,5]))
      pth <- path.rpart(model, nodes=as.numeric(names[i]), print.it=FALSE)
      cat(sprintf("   %s\n", unlist(pth)[-1]), sep="")
    }
  }
}

- level printing: can we avoid printing empty levels down the tree?

From Matthias.Studer@unige.ch Tue May 26 08:19:08 2009
Date: Sun, 24 May 2009 19:35:58 +0200
From: Matthias Studer <Matthias.Studer@unige.ch>
To: Torsten.Hothorn@r-project.org
Subject: Partykit

Hello,

Sorry for my bad english. I'm writing to you about partykit. We talked 
about it when you came to Geneva and asked me for a feedback.

First of all, partykit is great and well done. Porting my algorithm to 
partykit was quite easy; the structure was quite the same. However, I 
still have some remarks and some questions about partykit.

 1) In my tree algorithm, missing values are treated as a separate 
category. This does not cause any problem when dealing with factor. 
However, with numerical variable, it's not the same. Missing values may 
go to both node (depending on the closest one). I didn't found a way to 
tell where the missing values should go when using numerical. I tried to 
add a surrogate that always goes to the same node but it fails. Maybe I 
do not understand very well how to deal with missing values in partykit.

 2) I think that some measure of split quality should be added when 
printing and plotting the tree. This seems something quite general when 
building tree.

 3) Maybe you are interested, I have programmed a node 
"grapcon_generator" that make use of the standard "plot" function using 
gridBase.

 4) Would partykit be released on the CRAN ? Actually, we need that to 
include these new developments in the next release of our package.

Many thanks for partykit and your answers.
Matthias Studer

